(self.webpackChunkatm_app=self.webpackChunkatm_app||[]).push([[355],{3355:(t,o,e)=>{"use strict";e.r(o),e.d(o,{AtmsRestockPageModule:()=>b});var n=e(2057),r=e(4762),i=e(7574),s=e(8645),a=e(9075),m=e(4788),c=e(4751),u=e(1095),l=e(8295),d=e(9983);function p(t,o){if(1&t&&(m.TgZ(0,"mat-form-field"),m.TgZ(1,"mat-label"),m._uU(2),m.qZA(),m._UZ(3,"input",4),m.TgZ(4,"mat-error"),m._uU(5,"Please enter a valid amount. Whole numbers only."),m.qZA(),m.qZA()),2&t){const t=o.index,e=m.oxw();m.xp6(2),m.Oqu(e.labels[t]),m.xp6(1),m.MGl("id","denomination-",t,""),m.Q6J("formControlName",t)}}class f{constructor(t,o){this.formBuilder=t,this.store=o,this.labels=[]}ngOnInit(){this.denominations$.subscribe(t=>{this.denominations=t,this.createForm(t)})}createForm(t){this.labels=[],this.restockForm=this.formBuilder.group({denominations:this.formBuilder.array(t.map(t=>(this.labels.push(`Stock ($${t.value})`),this.formBuilder.control(t.amountInStock))))})}get denominationsForm(){return this.restockForm.get("denominations")}restock(t){this.denominations.map((o,e)=>(o.amountInStock=+t[e],o)),this.store.dispatch(new a.Wd(this.denominations))}}f.\u0275fac=function(t){return new(t||f)(m.Y36(c.qu),m.Y36(s.yh))},f.\u0275cmp=m.Xpm({type:f,selectors:[["atm-app-restock-page"]],decls:7,vars:3,consts:[[3,"formGroup","submit"],["formArrayName","denominations"],[4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["matInput","","type","text","required","","pattern","[0-9]*",3,"id","formControlName"]],template:function(t,o){1&t&&(m.TgZ(0,"form",0),m.NdJ("submit",function(){return o.restock(o.restockForm.value.denominations)}),m.TgZ(1,"div",1),m.TgZ(2,"h2"),m._uU(3,"Current Stock"),m.qZA(),m.YNc(4,p,6,3,"mat-form-field",2),m.qZA(),m.TgZ(5,"button",3),m._uU(6,"Restock"),m.qZA(),m.qZA()),2&t&&(m.Q6J("formGroup",o.restockForm),m.xp6(4),m.Q6J("ngForOf",o.denominationsForm.controls),m.xp6(1),m.Q6J("disabled",!o.restockForm.valid||o.restockForm.pristine))},directives:[c._Y,c.JL,c.sg,c.CE,n.sg,u.lW,l.KE,l.hX,d.Nt,c.Fj,c.Q7,c.c5,c.JJ,c.u,l.TO],styles:["mat-form-field[_ngcontent-%COMP%]{margin-right:1em}button[_ngcontent-%COMP%]{margin-top:1.1em}"]}),(0,r.gn)([(0,s.Ph)(a.tH.denominations),(0,r.w6)("design:type",i.y)],f.prototype,"denominations$",void 0);var h=e(5342);const g=[{path:"",component:f}];let k=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[h.Bz.forChild(g)],h.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[n.ez,c.u5,c.UX,u.ot,l.lN,d.c,k]]}),t})()}}]);